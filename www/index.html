<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

    <title>Pack&amp;Pack</title>

    <link href="//code.ionicframework.com/nightly/css/ionic.css" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.3.0/css/material-fullpalette.css">

    <link href="lib/ionic/css/ionic.css" rel="stylesheet">

    <!-- IF using Sass (run gulp sass first), then uncomment below and remove the CSS includes above
<link href="css/ionic.app.css" rel="stylesheet">
-->

    <!-- ionic/angularjs js -->
    <script src="lib/ionic/js/ionic.bundle.js"></script>
    <script src="lib/checklist-model/checklist-model.js"></script>
    <script src="lib/ngCordova/dist/ng-cordova.js"></script>
    <script src="lib/ionic-service-core/ionic-core.js"></script>
    <script src="lib/ionic-service-push/ionic-push.js"></script>

    <!-- Google Maps Javascript API -->
    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>

    <!-- angular-google-maps -->
    <script src="lib/lodash.underscore.min.js?v=2.4.1"></script>
    <script src="lib/angular-google-maps.min.js?v=1.2.2"></script>

    <!-- your app's js -->
    <script src="js/app.js"></script>
    <!-- Componentes-->
    <!-- Firebase -->
    <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>

    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/1.1.3/angularfire.min.js"></script>

</head>

<body ng-app="ionicApp">

    <ion-nav-bar class="bar-dark">
        <ion-nav-back-button class="button-icon ion-arrow-left-c">
        </ion-nav-back-button>
    </ion-nav-bar>

    <ion-nav-view></ion-nav-view>

    <script id="templates/sign-in.html" type="text/ng-template">
        <ion-view hide-nav-bar="true">
            <ion-content ng-controller="SignInCtrl">
                <br>
                <img src="img/logo.png" style="opacity:0.7; filter: alpha(opacity=40); display: block; margin-left: auto;margin-right: auto;border:none; width: 100px; height: auto;">
                <form ng-submit="signIn(email, pass)">
                    <div class="list">
                        <label class="item item-input item-floating-label">
                            <span class="input-label">Email</span>
                            <input ng-model="email" class="form-control floating-label" type="text" placeholder="Email">
                        </label>
                        <label class="item item-input item-floating-label">
                            <span class="input-label">Contraseña</span>
                            <input ng-model="pass" class="form-control" type="password" placeholder="Contraseña">
                        </label>
                    </div>
                    <div class="spacer" style="height: 40px;"></div>
                    <button type="submit" class="button button-energized button-block button-positive" ng-click="identifyUser()">Acceder</button>
                    <p class="text-center">
                        <a href="#/forgot-password" style="text-decoration: none">Olvidé mi contraseña</a>
                    </p>
                </form>
            </ion-content>
            <div id="login" class="pane"></div>
        </ion-view>
    </script>

    <script id="templates/forgot-password.html" type="text/ng-template">
        <ion-view view-title="Olvide mi contraseña">
            <ion-content padding="true">
                <h1 style="color:white;">
                    Formulario recuperar contra....
                </h1>
                <!--<p>
                    Return to <a href="#/sign-in">Iniciar Sesión</a>.
                </p>-->
            </ion-content>
        </ion-view>
    </script>

    <script id="templates/tabs.html" type="text/ng-template">
        <ion-view hide-nav-bar="true">
            <ion-tabs class="tabs-icon-top tabs-dark">

                <ion-tab title="Envios" icon="mdi-maps-local-shipping" href="#/tab/envios">
                    <ion-nav-view name="envios-tab"></ion-nav-view>
                </ion-tab>

                <ion-tab title="Viajes" icon="mdi-action-event" href="#/tab/viajes">
                    <ion-nav-view name="viajes-tab"></ion-nav-view>
                </ion-tab>

                <ion-tab title="Cerrar Sesión" icon="ion-log-out" href="#/sign-in">
                </ion-tab>

            </ion-tabs>
        </ion-view>
    </script>

    <script id="templates/envios.html" type="text/ng-template">
        <ion-view view-title="Envios" hide-nav-bar="true">
            <ion-content padding="true" ng-controller="AppCtrl">
                <ion-list>
                    <ion-refresher pulling-text="Desliza para actualizar" refreshing-text="Cargando..." refreshing-icon="mdi-navigation-refresh" pulling-icon="mdi-editor-vertical-align-bottom" on-refresh="doRefresh()">
                    </ion-refresher>

                    <!--Confirmada-->
                    <ion-item class="card" ng-repeat="solicitud in solicitudesConfirmadas">
                        <div class="item item-text-wrap" style="background-color:rgb(23, 132, 165);">
                            <p style="color:white; text-align:center;"><strong>{{solicitud.status}}</strong></p>

                            <p style="color:white;"><strong style="color:white;">Nombre: </strong>{{solicitud.nombre}} {{solicitud.apellidos}}</p>

                            <p style="color:white;"><strong style="color:white;">Origen: </strong>{{solicitud.origen}}</p>

                            <p style="color:white;"><strong style="color:white;">Destino: </strong>{{solicitud.destino}}</p>

                            <p style="color:white;"><strong style="color:white;">Fecha: </strong>{{solicitud.fecha}}</p>
                            <button class="button button-full button-energized" ng-hide="solicitud.statusShipmentId!=50" ng-click="startTrip(solicitud.tripId, solicitud.packeroId)">¡Iniciar viaje!</button>
                            <button class="button button-full button-energized" ng-hide="solicitud.statusShipmentId!=55" ng-click="recogerEnvio(solicitud.shipmentId)">Recogido</button>
                            <button class="button button-full button-energized" ng-hide="solicitud.statusShipmentId!=60" ng-click="entregarEnvio(solicitud.shipmentId)">Entregado</button>
                            <p><a ng-click="verMapa(solicitud.id)" class="button button-full button-energized">Ver mapa</a></p>
                        </div>
                    </ion-item>

                    <!--En Espera-->
                    <strong>{{sinSolicitudes}}</strong>
                    <ion-item class="card" ng-repeat="solicitud in solicitudesEspera">
                        <div class="item item-text-wrap" style="background-color:rgb(255, 201, 0);">
                            <p style="color:black; text-align:center;"><strong>{{solicitud.status}}</strong></p>

                            <p style="color:black;"><strong style="color:black;">Nombre: </strong>{{solicitud.nombre}} {{solicitud.apellidos}}</p>

                            <p style="color:black;"><strong style="color:black;">Origen: </strong>{{solicitud.origen}}</p>

                            <p style="color:black;"><strong style="color:black;">Destino: </strong>{{solicitud.destino}}</p>

                            <p style="color:black;"><strong style="color:black;">Fecha: </strong>{{solicitud.fecha}}</p>
                        </div>
                    </ion-item>

                    <!--Pendiente-->
                    <ion-item class="card" ng-repeat="solicitud in solicitudesPendientes">
                        <div class="item item-text-wrap" style="background-color:rgba(182, 193, 185, 0.4);">
                            <p style="color:white; text-align:center;"><strong>{{solicitud.status}}</strong></p>

                            <p style="color:white;"><strong style="color:white;">Nombre: </strong>{{solicitud.nombre}} {{solicitud.apellidos}}</p>

                            <p style="color:white;"><strong style="color:white;">Origen: </strong>{{solicitud.origen}}</p>

                            <p style="color:white;"><strong style="color:white;">Destino: </strong>{{solicitud.destino}}</p>

                            <p style="color:white;"><strong style="color:white;">Fecha: </strong>{{solicitud.fecha}}</p>
                            <button class="button button-full button-energized" ng-click="ofertarSolicitud(solicitud.id)">Ofertar</button>
                            <button class="button button-full button-energized" ng-click="rechazarSolicitud(solicitud.id)">Rechazar</button>
                        </div>
                    </ion-item>
                    <br>
                    <br>
                </ion-list>
            </ion-content>
        </ion-view>
    </script>

    <script id="templates/viajes.html" type="text/ng-template">
        <ion-view view-title="Viajes" hide-nav-bar="true">
            <ion-content padding="true" ng-controller="HomeTabCtrl" style="text-align:center">
                <h3 style="color:white">Disponibilidad para viajar</h3>
                <div class="card" id="pendiente">
                    <div class="item item-text-wrap" style="background-color:white;">
                        <div class="form-group">
                            <div class="form-group Tenvios">
                                <h2>Puebla-México</h2>
                                <label ng-repeat="label in weekDayLabels">
                                    <input type="checkbox" class="checkbox checkbox-{{label}}" checklist-model="puebla.weekDays" checklist-value="$index">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="form-group Tenvios">
                                <h2>México-Puebla</h2>
                                <label ng-repeat="label in weekDayLabels">
                                    <input type="checkbox" class="checkbox checkbox-{{label}}" checklist-model="mexico.weekDays" checklist-value="$index">
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="button button-block button-energized pull-right" ng-click="guardarOpciones()">Guardar</button>
            </ion-content>
        </ion-view>
    </script>


    <script id="templates/mapa.html" type="text/ng-template">
        <ion-view view-title="Mapa">
            <ion-content>
                <div id="map" data-tap-disabled="true"></div>
            </ion-content>
            <ion-footer-bar class="bar-dark">
                <a ng-click="centerOnMe()" class="button button-icon icon ion-navigate">Mi ubicación</a>
                <a ng-click="misEnvios()" class="button">Mis Envios</a>
            </ion-footer-bar>
        </ion-view>
    </script>









</body>

</html>